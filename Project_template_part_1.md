Это шаблон для решения **первой части** проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут удалённо включать и выключать отопление через веб-интерфейс.
- Система поддерживает управление отоплением через синхронные запросы к серверу, просмотр информации с датчиков
- Устройства отопления подключаются вручную специалистами компании
- Устройства отопления должны подключаться и поддерживать API из согласованного списка

**Мониторинг температуры:**

- Пользователи могут просматривать текущую температуру в своих домах запросами через веб-интерфейс.
- Система поддерживает запрос данных о температуре с датчиков, установленных в домах.
- Данные температуры поступают на сервер через синхронные запросы от оборудования пользователя.

### 2. Анализ архитектуры монолитного приложения

- **Язык программирования:** Java.
- **База данных:** PostgreSQL.
- **Архитектура:** Монолитная структура, в которой все компоненты приложения (обработка запросов, бизнес-логика, работа с данными) находятся в одном приложении.
- **Взаимодействие:** Синхронное. Запросы от клиентов и датчиков обрабатываются последовательно.
- **Развёртывание:** Для внесения изменений требуется перезапуск всего приложения.
- **Масштабируемость:** Вертикальная, можно добавить ресурсов под текущий монолит, но нет возможности масштабироваться горизонтально

- 
### 3. Определение доменов и границы контекстов

1. **Управление устройствами:**
    - Управление отоплением.
    - Управление освещением (в будущем)
    - Управление сигнализацией (в будущем).
    - Управление другими кастомныv устройством, поддерживающим согласованное API. (в будущем)
2. **Мониторинг данных:**
    - общая статистика подключенных устройств (энергопотребление, кол-во, дата последнего включения)
    - Сбор данных о температуре.
    - Мониторинг состояния подключённых устройств (включен/выключен, исправен/не исправен).
3. **Пользовательский интерфейс:**
    - Веб-интерфейс для пользователей (передан на аутсорсинг).
    - API для интеграции внешних приложений.
4. **Уведомления:**
    - Уведомление пользователей о состоянии устройств.
    - Интеграция с внешними системами уведомлений (в будущем).
    - Событийные увеодмления (например в случае сбоя устройства отправлять отдельные уведомление - в будущем)
5. **Сценарии и автоматизация:**
   - Создание пользовательских сценариев (например, включение отопления и освещения при наступлении определённого времени).
   - Управление автоматическими действиями, основанными на событиях (например, включение освещения при срабатывании сигнализации).
   - Настройка условий и логики автоматизации через API или пользовательский интерфейс.
6. **Управление домом:**
   - Добавление и удаление новых домов и связанных устройств.
   - Управление доступом пользователей (например, предоставление прав другим пользователям).
   - Хранение информации о домах (адрес, описание).
   - Управление зонами в доме (например, разделение устройств на комнаты).

### **4. Проблемы монолитного решения**

1. **Ограниченная масштабируемость:**
    - Можно масштабировать вертикально, но маловероятно что это поможет решить проблемы в конкретных узких местах системы
2. **Низкая гибкость:**
    - Сложно добавлять новые функции или обновлять существующие без риска нарушить работу всей системы.
3. **Зависимость от специалистов:**
    - Пользователи не могут самостоятельно подключать устройства, что увеличивает затраты на обслуживание. Долгий процесс добавления.
4. **Устаревшая архитектура:**
    - Отсутствие асинхронных вызовов и микросервисной структуры снижает производительность и скорость разработки новых фич.
  
  

Если вы считаете, что текущее решение не вызывает проблем, аргументируйте свою позицию.
- Да, если немного поразмышлять, то данный проект можно оформить так же и в монолите, управление в дачных домах - это значит что  
люди используют как правило это в местах плохой связи, в далеке от цивизилации, т.е. низкая скорость передачи данных, можно разработать оффлайн  
приложение, с которого пользовать может управлять некоторыми функциями напрямую (например подключать новые девайсы). Так же в пользу монолита  
говорит малый размер команды разработки - всего 5 человек, им легко будет скоординироваться над одним проектом + всего один язык - джава,  и один тип бд -постгре  
Система будет менее гибкой, но этот вариант вполне рабочий, функций у приложения тоже не очень много.  


### 5. Визуализация контекста системы — диаграмма С4

Добавьте сюда диаграмму контекста в модели C4.

в качестве правок, так же добавлены веб-интерфейс и мобильное приложение, на схеме добавлено взаимодействие
и домен автоматизации и управления домом

[Диаграмма контекста системы](task-1-5_monolit_diagram.puml)

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

[Диаграмма контейнеров](task-2_Container_diagram.puml)

краткое описание каждого микросервиса:

Auth Service
- Отвечает за аутентификацию и авторизацию пользователей.
- Управляет токенами доступа и проверкой прав.

Device Management Service
- Обеспечивает регистрацию и управление устройствами.
- Хранит информацию о конфигурации подключённого оборудования.

Heating Service
- Контролирует работу системы отопления.
- Реализует включение/выключение отопления, изменение настроек.
- 
Lighting Service
- Управляет системой освещения.
- Реализует включение/выключение света, изменение яркости.

Monitoring Service
- Собирать данные от подключённых устройств.
- Мониторить состояние устройств (температура, статус, неисправности).

Notification Service
- Отправляет уведомления пользователям.
- Реализует событийные уведомления о состоянии устройств и сбоях.

User Management Service
- Управляет данными пользователей.
- Обеспечивает хранение и обновление профилей пользователей.
- 
Automation Service
- Отвечает за создание и выполнение пользовательских сценариев автоматизации.
- Поддерживает управление автоматическими действиями (например, включение освещения по расписанию).
- Обеспечивает взаимодействие с другими микросервисами для выполнения сценариев.


**Диаграмма компонентов (Components)**

[Диаграмма компонентов](task-2_Components_diagram_.puml)

**Диаграмма кода (Code)**

[Диаграмма кода](task-2_Code_diagram.puml)
[сиквенс-диаграмма кода](task-2_Squence_diagram.puml)

# Задание 3. Разработка ER-диаграммы

Добавьте сюда ER-диаграмму. Она должна отражать ключевые сущности системы, их атрибуты и тип связей между ними.
[ER-диаграммa](task-3_ER_diagram.puml)

для сценариев автоматизации добавлена сущность в схему